<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <h1> Rock Paper Scissors </h1>
        <h3> Choose your weapon </h3>   
        <button id = "rock">Rock</button>
        <button id = "paper">Paper</button>
        <button id = "scissors">Scissors</button>
        <br>
        <div id = "results">
            <h3>Results</h3>
            <div id = "player">Player</div>
            <div id = "pScore">0</div>
            <div id = "computer">Computer</div>
            <div id = "cScore">0</div>
            <div id = "rOutcome">First to 5 wins</div>
            <button id = "playAgain">Play Again</button>
        </div>

        <script>

            // Create function that randomly returns "Rock", "Paper", "Scissors" //

            function computerPlay() {
                const options = ["rock", "paper", "scissors"];
                return options[Math.floor(Math.random()*options.length)];       
            }

            computerSelection = computerPlay();


            // Create function that returns player selection and calls playRound function 

            const buttons = document.querySelectorAll("button");
            let playerSelection;

            for (const button of buttons) {
                button.addEventListener("click", function(e) {
                    playerSelection = (e.target.id);
                    computerSelection = computerPlay();
                    playRound(playerSelection,computerSelection);
                    endGame();
                })
            }
    

           // Create function that plays one round of rock, paper, scissors //

            // let playerSelection = prompt("Rock, paper, scissors?").toLowerCase();
        
            let playerScore = document.querySelector("#pScore");
            let computerScore = document.querySelector("#cScore");
            let roundOutcome = document.querySelector("#rOutcome");
            playerScore.value = 0;
            computerScore.value = 0; 

            function playRound(playerSelection, computerSelection) {
                playerScore.innerHTML = playerScore.value;
                computerScore.innerHTML = computerScore.value;
                if (playerSelection === "rock" && computerSelection === "scissors") {
                    ++playerScore.value;
                    roundOutcome.textContent = "You win! Rock beats Scissors.";
                } else if (playerSelection === "paper" && computerSelection === "rock") {
                    ++playerScore.value;
                    roundOutcome.textContent = "You win! Paper beats Rock.";
                } else if (playerSelection === "scissors" && computerSelection === "paper") {
                    ++playerScore.value;
                    roundOutcome.textContent = "You win! Scissors beats Paper.";
                } else if (playerSelection === "rock" && computerSelection === "paper") {
                    ++computerScore.value;
                    roundOutcome.textContent = "You lose! Paper beats Rock.";
                } else if (playerSelection === "paper" && computerSelection === "scissors") {
                    ++computerScore.value;
                    roundOutcome.textContent = "You lose! Scissors beat Paper.";
                } else if (playerSelection === "scissors" && computerSelection === "rock") {
                    ++computerScore.value;
                    roundOutcome.textContent = "You lose! Rock beats Scissors.";
                } else if (playerSelection === "rock" && computerSelection === "rock") {
                    roundOutcome.textContent = "It's a tie! You both picked Rock."
                } else if (playerSelection === "scissors" && computerSelection === "scissors") {
                    roundOutcome.textContent = "It's a tie! You both picked Scissors.";
                } else if (playerSelection === "paper" && computerSelection === "paper") {
                    roundOutcome.textContent = "It's a tie! You both picked Paper."; 
                } else {
                    roundOutcome.textContent ="Error, try again";
                }
            }

            // Function that loops until computer or user wins 5 rounds //         

           function endGame () { 
                playerScore.innerHTML = playerScore.value;
                computerScore.innerHTML = computerScore.value;
                if (playerScore.value === 5) {
                roundOutcome.textContent = "Game Over. You win!" ;
                playAgain.hidden = false; 
                for (button of buttons) {
                    button.disabled = true;
                }
                } else if (computerScore.value === 5) {
                roundOutcome.textContent = "Game Over. You lose!";
                for (button of buttons) {
                    button.disabled = true;
                    playAgain.hidden = false; 
                }
                } else if (playerScore.value === 5 && computerScore.value === 5) {
                roundOutcome.textContent ="Game Over. It's a tie";
                for (button of buttons) {
                    button.disabled = true; 
                    playAgain.hidden = false; 
                }
                }
            }

        </script>
    </body>
</html>